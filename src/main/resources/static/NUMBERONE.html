<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script src="bower_components/jquery/dist/jquery.min.js" ></script>
<script src="bower_components/jquery-json/dist/jquery.json.min.js"></script>
<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="bower_components/echarts/dist/echarts.min.js"></script>
<script src="js/defineGlobal.js"></script>
<script>
//    //生成后台线程
//    var worker= new Worker("http://10.1.0.40:8080/nexteer/js/Ishaft1OutPutWork.js");
//    console.log("nice");
//    worker.postMessage("nice");
//    worker.onmessage = function (event) {
//        console.log(event.data);
//    }
function judgeTime(time) {
    var timeStr="";
    if (time<10){
        timeStr="0"+time.toString()
    }
    else {
        timeStr=time.toString()
    }
    return timeStr;
}
function Is1OutInput(curr_time,cell_name) {
    this.curr_time=curr_time;
    this.cell_name=cell_name;
}

// var currTime = judgeTime(Uyear)+"-"+judgeTime(Umonth)+"-"+judgeTime(Uday)+" "+judgeTime(Udate.getHours())+":"+judgeTime(Udate.getMinutes())+":"+judgeTime(Udate.getSeconds());
var currTime = "2017-03-23 15:00:00";
var cellName = "ISHAFT1";
var Is1OutJson = new Is1OutInput(currTime,cellName);
console.log(Is1OutJson);
console.log("getIs1Out开始");
var returnArr=[];
$.ajax({
    type: "POST",
    url: "http://10.1.0.40:8080/nexteer/dashboard/output",
    data: JSON.stringify(Is1OutJson),
    contentType: "application/json; charset=utf-8",
    dataType: "json",
    success: function (data) {
        if(data.status==0){
            return function Data() {
                returnArr[0]=data.cellName;
                returnArr[1]=data.targetOutput;
                returnArr[2]=data.curOutput;
                returnArr[3]=data.reachRate;
                returnArr[4]=data.status;
                console.log("nice")
            }
        }
        else {

            console.log("获取ISHAFT1产量失败");

        }


    },
    failure: function (errMsg) {
        console.log(errMsg);
    }
});
console.log(returnArr);
</script>
</body>
</html>